<html>

	<head>
		<title>Week 5 - Adventure Game</title>
	</head>
	
	<body>
		<h1>Bad Game</h1>
		<p id="on_page"> </p>
		<button id="attack">Attack</button>
		<button id="heal">Heal</button>
		<script src="player.js"></script>
		<script src="monsters.js"></script>
		<script>
		
			var text = document.getElementById("on_page");
			
			var game = {
				//something1: (<-- Key) something2 (<-- Value)
				user: player,
				monsters: listOfMonsters
				//Arrays are unstructured lists of items, objects are sorted lists of items
			}
			function random (maxNumber) {
				return Math.floor(Math.random() * maxNumber); 
			}
			
			var attack = document.getElementById("attack");
			attack.addEventListener("click", skirmish);
			
			function skirmish (attack) {
				var hero_dmg = random(game.user.dmg) + 1;
				text.innerHTML = "Enemy Name: " + current_enemy + "<br>" + "Current Enemy HP: " + (current_hp_enemy -= hero_dmg) + "<br>" + "Current Hero HP: " + (current_hero_hp -= current_enemy_dmg);
				if (current_hp_enemy <= 0) {
					alert("Congrats you won!") + location.reload();
				} else if (current_hero_hp <= 0) {
					alert("You lose!") + location.reload();
				}
			}
			
			function potion (heal) {
				count -= 1;
				if (count == 0) {
					alert("No more potions");
				} else if (count >= 1) {
					current_hero_hp += 25;
				}
			}
				
			var current_enemy_index = random(game.monsters.length);
			console.log(current_enemy_index);
			
			var current_hero_hp = game.user.hp;
			console.log("Current Hero HP: " + current_hero_hp);
			
			var current_enemy = game.monsters[current_enemy_index].name;
			console.log("Enemy Name: " + current_enemy);
			
			var current_hp_enemy = game.monsters[current_enemy_index].hp;
			console.log("Enemy HP: " + current_hp_enemy);
			
			var current_enemy_dmg = game.monsters[current_enemy_index].dmg
			console.log("Enemy DMG: " + current_enemy_dmg);
			
			var heal = document.getElementById("heal");
			count = 4;
			heal.addEventListener("click", potion);
			
		</script>
	</body>
	
</html>